"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.importx = exports.resolve = exports.dirname = exports.isESM = void 0;
const tslib_1 = require("tslib");
const url_1 = require("url");
const glob_1 = (0, tslib_1.__importDefault)(require("glob"));
const path_1 = (0, tslib_1.__importDefault)(require("path"));
exports.isESM = false;
function dirname(url) {
    return path_1.default.dirname((0, url_1.fileURLToPath)(url));
}
exports.dirname = dirname;
function resolve(...paths) {
    const imports = [];
    paths.forEach((ps) => {
        const resolvedPath = ps.startsWith("./")
            ? ps.replace(/^\.\//, path_1.default.resolve() + "/")
            : ps;
        const files = glob_1.default
            .sync(resolvedPath)
            .filter((file) => typeof file === "string");
        files.forEach((file) => {
            if (!imports.includes(file)) {
                imports.push(file);
            }
        });
    });
    return imports;
}
exports.resolve = resolve;
async function importx(...paths) {
    const files = resolve(...paths);
    await Promise.all(files.map((file) => require(file)));
}
exports.importx = importx;
//# sourceMappingURL=index.js.map